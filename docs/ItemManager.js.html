<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ItemManager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ItemManager.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * ItemManager.js
 * Komponenta pro správu položek.
 *
 * Tato komponenta umožňuje přidávat, upravovat a odstraňovat položky.
 *
 * @returns {JSX.Element} JSX element reprezentující komponentu.
 */
export default function ItemManager() {
  /**
   * Stav položky.
   *
   * @type {Object[]}
   */
  const [items, setItems] = useState([]);

  /**
   * Vstupní hodnoty pro formulář.
   *
   * @type {Object}
   */
  const [inputName, setInputName] = useState('');
  const [inputType, setInputType] = useState('');
  const [inputQuantity, setInputQuantity] = useState('');
  const [inputPurchased, setInputPurchased] = useState('');
  const [inputCanExpire, setInputCanExpire] = useState(false);

  /**
   * Stav úpravy položky.
   *
   * @type {boolean}
   */
  const [isEditing, setIsEditing] = useState(false);

  /**
   * ID položky, která je právě upravována.
   *
   * @type {number|null}
   */
  const [currentId, setCurrentId] = useState(null);

  /**
   * Načtení položek při prvním renderingu.
   */
  useEffect(() => {
    const loadItems = async () => {
      const fetchedItems = await fetchItems();
      setItems(fetchedItems);
    };
    loadItems();
  }, []);

  /**
   * Odeslání formuláře.
   *
   * @param {Event} e
   */
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (isEditing) {
      await updateItem(currentId, { name: inputName, type: inputType, quantity: inputQuantity, purchased: inputPurchased, canExpire: inputCanExpire });
    } else {
      await addItem({ name: inputName, type: inputType, quantity: inputQuantity, purchased: inputPurchased, canExpire: inputCanExpire });
    }
    const refreshedItems = await fetchItems();
    setItems(refreshedItems);
    clearForm();
  };

  /**
   * Odstranění položky.
   *
   * @param {number} id
   */
  const handleDelete = async (id) => {
    await deleteItem(id);
    const refreshedItems = await fetchItems();
    setItems(refreshedItems);
  };

  /**
   * Úprava položky.
   *
   * @param {Object} item
   */
  const handleEdit = (item) => {
    setInputName(item.name);
    setInputType(item.type);
    setInputQuantity(item.quantity);
    setInputPurchased(item.purchased);
    setInputCanExpire(item.canExpire);
    setCurrentId(item.id);
    setIsEditing(true);
  };

  /**
   * Vyčištění formuláře.
   */
  const clearForm = () => {
    setInputName('');
    setInputType('');
    setInputQuantity('');
    setInputPurchased('');
    setInputCanExpire(false);
    setIsEditing(false);
    setCurrentId(null);
  };

  return (
    &lt;div>
      &lt;h2>Správa položek&lt;/h2>
      &lt;ItemForm
        inputName={inputName}
        setInputName={setInputName}
        inputType={inputType}
        setInputType={setInputType}
        inputQuantity={inputQuantity}
        setInputQuantity={setInputQuantity}
        inputPurchased={inputPurchased}
        setInputPurchased={setInputPurchased}
        inputCanExpire={inputCanExpire}
        setInputCanExpire={setInputCanExpire}
        handleSubmit={handleSubmit}
        isEditing={isEditing}
      />
      &lt;ItemTable items={items} handleDelete={handleDelete} handleEdit={handleEdit} />
    &lt;/div>
  );
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ProtectedRoute">ProtectedRoute</a></li><li><a href="global.html#addItem">addItem</a></li><li><a href="global.html#deleteItem">deleteItem</a></li><li><a href="global.html#fetchItems">fetchItems</a></li><li><a href="global.html#updateItem">updateItem</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Wed Oct 09 2024 15:13:16 GMT+0200 (středoevropský letní čas)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
